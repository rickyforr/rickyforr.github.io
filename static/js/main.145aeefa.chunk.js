(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},50:function(e,t){},62:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),c=n(33),u=n.n(c),o=(n(46),n(13)),s=n.p+"static/media/logo.6ce24c58.svg",i=(n(47),n(8)),f=n(2),h=n.n(f),l=n(21),p=n(3),d=n(4),v=Object(p.a)((function e(t){var n=this;Object(d.a)(this,e),this.ethereum=void 0,this.getAccounts=function(){var e=Object(i.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t||n.ethereum,null===(r=a)||void 0===r||!r.request){e.next=5;break}return e.next=4,a.request({method:"eth_requestAccounts"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.reconnect=Object(i.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(t=n.ethereum)||void 0===t||!t.request){e.next=4;break}return e.next=3,n.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),this.disconnect=Object(i.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(t=n.ethereum)||void 0===t||!t.request){e.next=4;break}return e.next=3,n.ethereum.request({method:"eth_requestAccounts",params:[{eth_accounts:{}}]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),this.getBalance=function(){var e=Object(i.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(r=n.ethereum)||void 0===r||!r.request){e.next=4;break}return e.next=3,n.ethereum.request({method:"eth_getBalance",params:[t,"latest"]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.sendTransaction=function(){var e=Object(i.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(r=n.ethereum)||void 0===r||!r.request){e.next=4;break}return e.next=3,n.ethereum.request({method:"eth_sendTransaction",params:[t]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.switchChain=function(){var e=Object(i.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(r=n.ethereum)||void 0===r||!r.request){e.next=4;break}return e.next=3,n.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:l.a.utils.hexValue(parseInt(t))}]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.sign=function(){var e=Object(i.a)(h.a.mark((function e(t,r,a){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(c=n.ethereum)||void 0===c||!c.request){e.next=4;break}return e.next=3,n.ethereum.request({method:"personal_sign",params:[r,t,a]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.ethereum=null===t||void 0===t?void 0:t.provider})),b=n(37);var m=function(){var e=a.a.useState(),t=Object(o.a)(e,2),n=t[0],r=t[1],c=a.a.useState(),u=Object(o.a)(c,2),s=u[0],f=u[1],p=a.a.useState(),d=Object(o.a)(p,2),m=d[0],w=d[1],x=a.a.useState(0),j=Object(o.a)(x,2),O=j[0],g=j[1],k=a.a.useState(0),y=Object(o.a)(k,2),q=y[0],S=y[1],A=a.a.useState(!1),C=Object(o.a)(A,2),E=C[0],_=C[1],I=a.a.useState(!1),P=Object(o.a)(I,2),B=P[0],F=P[1],N=Object(b.useStorageState)(localStorage,"validation",""),T=Object(o.a)(N,2),L=T[0],J=T[1],M=function(e){var t=a.a.useRef();return a.a.useEffect((function(){t.current=e})),t.current}(m),R=new v(n),W=function(){var e=Object(i.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(window.ethereum),t=new l.a.providers.Web3Provider(window.ethereum),r(t),e.next=5,t.getNetwork();case 5:return n=e.sent,a=n.chainId,S(a),e.next=10,t.listAccounts().then((function(e){w(e[0])})).finally((function(){return F(!1)}));case 10:F(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e,t){J(""),!t&&E&&e[0]?w(void 0):null!==e&&void 0!==e&&e.length?(w(e[0]),D(e[0])):w(void 0)},D=function(){var e=Object(i.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getBalance(t).then(Q).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(i.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Object(i.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Ethereum successfully detected!"),F(!0),_(!1),t=new v(new l.a.providers.Web3Provider(window.ethereum)),n=!1,e.next=7,t.reconnect().catch((function(e){console.log("fail",e),n=!0})).finally((function(){F(!1)}));case 7:if(!n){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,t.getAccounts().then((function(e){return z(e,!0)})).catch((function(e){return console.log(e)})).finally((function(){return F(!1)}));case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t?n():(window.addEventListener("ethereum#initialized",n,{once:!0}),setTimeout(n,3e3)),e.next=4,R.getAccounts().then((function(e){return z(e,!0)})).catch((function(e){return console.log(e)})).finally((function(){return F(!1)}));case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!0),w(void 0),null===s||void 0===s||!s.disconnect){e.next=6;break}s.disconnect(),e.next=8;break;case 6:return e.next=8,R.disconnect().then(K).catch((function(e){return console.error(e)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.switchChain(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){J(""),w(void 0)},Q=function(e){var t=parseInt(e)/Math.pow(10,18)||0;g(t)},U=function(){var e=Object(i.a)(h.a.mark((function e(t,n,r){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.sign(t,n,r);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return a.a.useEffect((function(){F(!0),W()}),[]),a.a.useEffect((function(){if(s){s.on("chainChanged",(function(){W()})),s.on("disconnect",(function(){window.location.reload()})),s.on("accountsChanged",(function(){J(""),window.location.reload()}));var e={address:m};s.on(e,(function(e,t){console.log(e)}))}m&&!M&&D(m)}),[n,m,M,L]),{account:m,accountChangePending:B,balance:O.toFixed(4)||"",connect:V,disconnect:G,ethereum:n,switchNetwork:H,sign:U,validation:L,chainId:q}},w=n(10);var x=function(){var e=m(),t=e.connect,n=e.account,r=e.ethereum,c=a.a.useState(),u=Object(o.a)(c,2),i=u[0],f=u[1];return a.a.useEffect((function(){f(r)}),[r]),Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)("header",{className:"App-header",children:[Object(w.jsx)("img",{src:s,className:"App-logo",alt:"logo"}),Object(w.jsxs)("p",{children:["Edit ",Object(w.jsx)("code",{children:"src/App.tsx"})," and save to reload."]}),Object(w.jsx)("button",{onClick:function(){return t(!0)},children:"Connect"}),Object(w.jsxs)("h4",{children:["Account: ",n]}),Object(w.jsxs)("h4",{children:["Provider: ",i?"true":"false"]})]})})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,u=t.getTTFB;n(e),r(e),a(e),c(e),u(e)}))};u.a.createRoot(document.getElementById("root")).render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(x,{})})),j()}},[[62,1,2]]]);
//# sourceMappingURL=main.145aeefa.chunk.js.map