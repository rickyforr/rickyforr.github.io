(this["webpackJsonpcommunity-app"]=this["webpackJsonpcommunity-app"]||[]).push([[0],{57:function(e,t,n){},58:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(2),a=n.n(i),r=n(29),s=n.n(r),o=n(5),u=n(11),m=n.n(u),l=n(30),j=n(31),d=n.n(j),h=function(){var e=Object(l.a)(m.a.mark((function e(t,n,c,i){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,d.a.get(i).then((function(e){n(e.data),t(!1)})).catch((function(){c("Sorry! There was an error loading data."),t(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,c,i){return e.apply(this,arguments)}}(),b=(n(57),n(58),n(33)),f=n(32),O=(n(62),function(e){var t=Object(i.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],s=e.community,u=e.houses,m=function(e,t){if(!Array.isArray(t)||!(null===t||void 0===t?void 0:t.length))return"";var n=t.filter((function(t){return t.communityId===e}));return n.length?(n.map((function(e){return e.price})).reduce((function(e,t){return e+t}))/n.length).toLocaleString(void 0,{maximumFractionDigits:0}):""}(e.community.id,u),l=function(e,t){if(!Array.isArray(t)||!t.length)return 0;var n=t.filter((function(t){return t.communityId===e}));return n.length?n.length:0}(e.community.id,u);return Object(c.jsxs)("div",{className:"community-container",children:[a?Object(c.jsx)("div",{className:"image-placeholder"}):Object(c.jsx)("img",{className:"community-image",src:s.imgUrl,onError:function(){r(!0)},alt:"community"}),Object(c.jsxs)("div",{className:"community-details",children:[Object(c.jsx)("span",{className:"community-name",title:s.name,children:s.name}),Object(c.jsxs)("div",{className:"price-houses-container",children:[Object(c.jsxs)("span",{className:"community-price",children:["Avg. Price: ",m?"$".concat(m):"NA"]}),Object(c.jsxs)("span",{children:[Object(c.jsx)(f.a,{icon:b.a,className:"house-icon"}),Object(c.jsx)("span",{className:"houses-amount",children:l||"None Found"})]})]})]})]},s.id)}),p=function(e){var t=e.communities,n=e.houses,i=function(e){return Array.isArray(e)?e.sort((function(e,t){return e.name.localeCompare(t.name)})):[]}(t);return Object(c.jsxs)("div",{className:"communities-container",children:[!t.length&&Object(c.jsx)("h3",{children:"No Communities to Display"}),!!t.length&&i.map((function(e){return Object(c.jsx)(O,{community:e,houses:n})}))]})},x=(n(63),function(){return Object(c.jsx)("div",{className:"header",children:Object(c.jsx)("span",{className:"title",children:"Community App"})})}),v=n(34),y=n.n(v);var g=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)([]),s=Object(o.a)(r,2),u=s[0],m=s[1],l=Object(i.useState)(!1),j=Object(o.a)(l,2),d=j[0],b=j[1],f=Object(i.useState)(!1),O=Object(o.a)(f,2),v=O[0],g=O[1],N=Object(i.useState)(""),A=Object(o.a)(N,2),S=A[0],k=A[1],w=d||v;return Object(i.useEffect)((function(){h(b,a,k,"https://a18fda49-215e-47d1-9dc6-c6136a04a33a.mock.pstmn.io/communities"),h(g,m,(function(e){return console.log(e)}),"https://a18fda49-215e-47d1-9dc6-c6136a04a33a.mock.pstmn.io/homes")}),[]),Object(c.jsxs)("div",{className:"app-container",children:[Object(c.jsx)(x,{}),S&&Object(c.jsx)("div",{"data-name":"error",className:"error-notification",children:S}),w&&Object(c.jsx)(y.a,{color:"#223e6d",size:"30px"}),!w&&!(null===n||void 0===n?void 0:n.length)&&Object(c.jsx)("div",{"data-name":"error",className:"error-notification",children:"No Communities Data"}),!w&&!!(null===n||void 0===n?void 0:n.length)&&Object(c.jsx)(p,{communities:n,houses:u})]})};n(84);s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.8d6eb5f2.chunk.js.map