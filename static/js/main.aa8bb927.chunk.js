(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},50:function(e,t){},62:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),c=n(34),u=n.n(c),o=(n(46),n.p+"static/media/logo.6ce24c58.svg"),s=(n(47),n(8)),i=n(13),f=n(2),h=n.n(f),l=n(15),p=n(3),d=n(4),v=Object(p.a)((function e(t){var n=this;Object(d.a)(this,e),this.ethereum=void 0,this.getAccounts=function(){var e=Object(s.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t||n.ethereum,null===(r=a)||void 0===r||!r.request){e.next=5;break}return e.next=4,a.request({method:"eth_requestAccounts"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.reconnect=Object(s.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(t=n.ethereum)||void 0===t||!t.request){e.next=4;break}return e.next=3,n.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),this.disconnect=Object(s.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(t=n.ethereum)||void 0===t||!t.request){e.next=4;break}return e.next=3,n.ethereum.request({method:"eth_requestAccounts",params:[{eth_accounts:{}}]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),this.getBalance=function(){var e=Object(s.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(r=n.ethereum)||void 0===r||!r.request){e.next=4;break}return e.next=3,n.ethereum.request({method:"eth_getBalance",params:[t,"latest"]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.sendTransaction=function(){var e=Object(s.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(r=n.ethereum)||void 0===r||!r.request){e.next=4;break}return e.next=3,n.ethereum.request({method:"eth_sendTransaction",params:[t]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.switchChain=function(){var e=Object(s.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(r=n.ethereum)||void 0===r||!r.request){e.next=4;break}return e.next=3,n.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:l.a.utils.hexValue(parseInt(t))}]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.sign=function(){var e=Object(s.a)(h.a.mark((function e(t,r,a){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(c=n.ethereum)||void 0===c||!c.request){e.next=4;break}return e.next=3,n.ethereum.request({method:"personal_sign",params:[r,t,a]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.ethereum=null===t||void 0===t?void 0:t.provider})),b=n(26);var m=function(){var e=a.a.useState(),t=Object(i.a)(e,2),n=t[0],r=t[1],c=a.a.useState(),u=Object(i.a)(c,2),o=u[0],f=u[1],p=a.a.useState(),d=Object(i.a)(p,2),m=d[0],w=d[1],x=a.a.useState(0),j=Object(i.a)(x,2),g=j[0],O=j[1],k=a.a.useState(0),y=Object(i.a)(k,2),q=y[0],S=y[1],C=a.a.useState(!1),A=Object(i.a)(C,2),_=A[0],E=A[1],I=a.a.useState(!1),P=Object(i.a)(I,2),N=P[0],B=P[1],F=Object(b.useStorageState)(localStorage,"providerName",""),T=Object(i.a)(F,2),L=(T[0],T[1]),J=Object(b.useStorageState)(localStorage,"validation",""),M=Object(i.a)(J,2),R=M[0],W=M[1],z=a.a.useState(!1),D=Object(i.a)(z,2),V=D[0],G=(D[1],function(e){var t=a.a.useRef();return a.a.useEffect((function(){t.current=e})),t.current}(m)),H=new v(n),K=function(){var e=Object(s.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(window.ethereum),t=new l.a.providers.Web3Provider(window.ethereum),r(t),e.next=5,t.getNetwork();case 5:return n=e.sent,a=n.chainId,S(a),e.next=10,t.listAccounts().then((function(e){w(e[0])})).finally((function(){return B(!1)}));case 10:B(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(e,t){W(""),!t&&_&&e[0]?w(void 0):null!==e&&void 0!==e&&e.length?(w(e[0]),U(e[0])):w(void 0)},U=function(){var e=Object(s.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.getBalance(t).then(ee).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(s.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Object(s.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Ethereum successfully detected!"),B(!0),E(!1),L("metamask"),t=new v(new l.a.providers.Web3Provider(window.ethereum)),n=!1,e.next=8,t.reconnect().catch((function(e){console.log("fail",e),n=!0})).finally((function(){B(!1)}));case 8:if(!n){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,t.getAccounts().then((function(e){return Q(e,!0)})).catch((function(e){return console.log(e)})).finally((function(){return B(!1)}));case 12:return e.abrupt("return");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t?n():(window.addEventListener("ethereum#initialized",n,{once:!0}),setTimeout(n,3e3)),e.next=4,H.getAccounts().then((function(e){return Q(e,!0)})).catch((function(e){return console.log(e)})).finally((function(){return B(!1)}));case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(s.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!0),w(void 0),L(""),null===o||void 0===o||!o.disconnect){e.next=7;break}o.disconnect(),e.next=9;break;case 7:return e.next=9,H.disconnect().then($).catch((function(e){return console.error(e)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(s.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.switchChain(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){W(""),w(void 0)},ee=function(e){var t=parseInt(e)/Math.pow(10,18)||0;O(t)},te=function(){var e=Object(s.a)(h.a.mark((function e(t,n,r){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.sign(t,n,r);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return a.a.useEffect((function(){B(!0),K()}),[]),a.a.useEffect((function(){if(o){o.on("chainChanged",(function(){K()})),o.on("disconnect",(function(){window.location.reload()})),o.on("accountsChanged",(function(){W(""),window.location.reload()}));var e={address:m};o.on(e,(function(e,t){console.log(e)}))}m&&!G&&U(m)}),[n,m,G,R]),{account:m,accountChangePending:N,balance:g.toFixed(4)||"",connect:X,disconnect:Y,ethereum:n,switchNetwork:Z,sign:te,validation:R,validationPending:V,chainId:q}},w=n(12);var x=function(){var e=m().connect;return Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)("header",{className:"App-header",children:[Object(w.jsx)("img",{src:o,className:"App-logo",alt:"logo"}),Object(w.jsxs)("p",{children:["Edit ",Object(w.jsx)("code",{children:"src/App.tsx"})," and save to reload."]}),Object(w.jsx)("button",{onClick:function(){return e(!0)},children:"Connect"})]})})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,u=t.getTTFB;n(e),r(e),a(e),c(e),u(e)}))};u.a.createRoot(document.getElementById("root")).render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(x,{})})),j()}},[[62,1,2]]]);
//# sourceMappingURL=main.aa8bb927.chunk.js.map