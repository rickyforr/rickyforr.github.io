(this["webpackJsonpcommunity-app"]=this["webpackJsonpcommunity-app"]||[]).push([[0],{57:function(e,t,n){},58:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(2),a=n.n(i),s=n(29),r=n.n(s),o=n(5),u=n(11),m=n.n(u),l=n(30),j=n(31),d=n.n(j),h=function(){var e=Object(l.a)(m.a.mark((function e(t,n,c,i){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,d.a.get(i).then((function(e){n(e.data),t(!1)})).catch((function(){c("Sorry! There was an error loading data."),t(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,c,i){return e.apply(this,arguments)}}(),b=(n(57),n(58),n(33)),f=n(32),p=(n(62),function(e){var t=Object(i.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],r=e.community,u=e.houses,m=function(e,t){if(!(null===t||void 0===t?void 0:t.length))return"";var n=t.filter((function(t){return t.communityId===e}));return n.length?(n.map((function(e){return e.price})).reduce((function(e,t){return e+t}))/n.length).toLocaleString(void 0,{maximumFractionDigits:0}):""}(e.community.id,u),l=function(e,t){if(!t.length)return 0;var n=t.filter((function(t){return t.communityId===e}));return n.length?n.length:0}(e.community.id,u);return Object(c.jsxs)("div",{className:"community-container",children:[a?Object(c.jsx)("div",{className:"image-placeholder"}):Object(c.jsx)("img",{className:"community-image",src:r.imgUrl,onError:function(){s(!0)},alt:"community"}),Object(c.jsxs)("div",{className:"community-details",children:[Object(c.jsx)("span",{className:"community-name",title:r.name,children:r.name}),Object(c.jsxs)("div",{className:"price-houses-container",children:[Object(c.jsxs)("span",{className:"community-price",children:["Avg. Price: ",m?"$".concat(m):"Not Available"]}),Object(c.jsxs)("span",{children:[Object(c.jsx)(f.a,{icon:b.a,className:"house-icon"}),Object(c.jsx)("span",{className:"houses-amount",children:l||"None Found"})]})]})]})]},r.id)}),O=function(e){var t=e.communities,n=e.houses,i=function(e){return e.sort((function(e,t){return e.name.localeCompare(t.name)}))}(t);return Object(c.jsxs)("div",{className:"communities-container",children:[!t.length&&Object(c.jsx)("h3",{children:"No Communities to Display"}),!!t.length&&i.map((function(e){return Object(c.jsx)(p,{community:e,houses:n})}))]})},x=(n(63),function(){return Object(c.jsx)("div",{className:"header",children:Object(c.jsx)("span",{className:"title",children:"Community App"})})}),v=n(34),g=n.n(v);var y=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)([]),r=Object(o.a)(s,2),u=r[0],m=r[1],l=Object(i.useState)(!1),j=Object(o.a)(l,2),d=j[0],b=j[1],f=Object(i.useState)(!1),p=Object(o.a)(f,2),v=p[0],y=p[1],N=Object(i.useState)(""),S=Object(o.a)(N,2),k=S[0],w=S[1],A=d||v;return Object(i.useEffect)((function(){h(b,a,w,"https://a18fda49-215e-47d1-9dc6-c6136a04a33a.mock.pstmn.io/communities"),h(y,m,(function(e){return console.log(e)}),"https://a18fda49-215e-47d1-9dc6-c6136a04a33a.mock.pstmn.io/homes")}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(x,{}),k&&Object(c.jsx)("div",{"data-name":"error",className:"error-notification",children:k}),A&&Object(c.jsx)(g.a,{color:"#223e6d",size:"30px"}),!A&&!!n.length&&Object(c.jsx)(O,{communities:n,houses:u})]})};n(84);r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.b324e1ed.chunk.js.map